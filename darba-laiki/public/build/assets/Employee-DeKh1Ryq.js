import{_ as h,N as y}from"./Navbar-Du4DIp5o.js";import{c as a,o as l,a as e,F as i,r as p,t as n,b as m,d as c,e as u,w as v}from"./app-Cx_wOBAA.js";const x={props:{user:Object},methods:{calculateTotalHours(){var s;return(s=this.user)!=null&&s.attendance?this.user.attendance.reduce((t,o)=>t+o.total_hours,0):0},getMostRecentDate(){var s,t,o;return((o=(t=(s=this.user)==null?void 0:s.attendance)==null?void 0:t[0])==null?void 0:o.date)||"No records"}}},D={key:0,id:"productdetails"},k={class:"w-full md:w-2/5"},w=["src"],E={class:"grid grid-cols-4 gap-2 mt-4"},I=["src"],N={class:"w-full md:w-3/5"},j={class:"text-2xl font-bold mb-4"},$={class:"mb-6"},C={class:"text-lg"},L={class:"text-lg"},M={class:"overflow-x-auto"},R={class:"min-w-full border-collapse border"},T={class:"p-2 border"},U={class:"p-2 border"},q={key:1,class:"text-center p-8"};function B(s,t,o,f,_,d){return o.user?(l(),a("section",D,[e("div",k,[e("img",{src:o.user.employee.image||s.placeholderImage,class:"w-full h-64 object-cover rounded-lg shadow-md",id:"MainImg",alt:"Employee image"},null,8,w),e("div",E,[(l(),a(i,null,p(4,r=>e("div",{key:r},[e("img",{src:o.user.employee.image||s.placeholderImage,class:"w-full h-16 object-cover rounded-md shadow-sm",alt:"Employee thumbnail"},null,8,I)])),64))])]),e("div",N,[e("h2",j,n(o.user.employee.username),1),e("div",$,[e("p",C,[t[0]||(t[0]=e("span",{class:"font-semibold"},"Total Hours:",-1)),m(" "+n(d.calculateTotalHours()),1)]),e("p",L,[t[1]||(t[1]=e("span",{class:"font-semibold"},"Most Recent Date:",-1)),m(" "+n(d.getMostRecentDate()),1)])]),t[3]||(t[3]=e("h3",{class:"text-xl font-semibold mb-3"},"Attendance Records",-1)),e("div",M,[e("table",R,[t[2]||(t[2]=e("thead",{class:"bg-gray-200"},[e("tr",null,[e("th",{class:"p-2 border"},"Datums"),e("th",{class:"p-2 border"},"Stundas kopā")])],-1)),e("tbody",null,[(l(!0),a(i,null,p(o.user.attendance,r=>(l(),a("tr",{key:r.date},[e("td",T,n(r.date),1),e("td",U,n(r.total_hours),1)]))),128))])])])])])):(l(),a("p",q,"Loading user details..."))}const F=h(x,[["render",B],["__scopeId","data-v-7389859d"]]),H={components:{Navbar:y,EmployeeCard:F},props:{routes:Object,user:{type:Object,required:!0},userID:{type:[String,Number],required:!0}},data(){return{selectedUser:null}},mounted(){const s=this.$props.userID||null;console.log("userID :",s),s?this.fetchEmployeeDetails(s):console.error("Product ID not found in query parameters.")},methods:{fetchEmployeeDetails(s){fetch(`/employees/${s}`).then(t=>t.json()).then(t=>{this.selectedUser=t,console.log("Fetched user:",this.selectedUser)}).catch(t=>{console.error("Error fetching user details:",t)})}}},O={class:"main-container"},S={class:"mt-4"};function V(s,t,o,f,_,d){const r=c("Navbar"),b=c("EmployeeCard"),g=c("Link");return l(),a(i,null,[u(r),e("div",O,[u(b,{user:_.selectedUser},null,8,["user"])]),e("div",S,[u(g,{href:"/",class:"text-blue-600 hover:underline"},{default:v(()=>t[0]||(t[0]=[m("⬅ Atpakaļ uz sarakstu")])),_:1,__:[0]})])],64)}const P=h(H,[["render",V],["__scopeId","data-v-c424a060"]]);export{P as default};
